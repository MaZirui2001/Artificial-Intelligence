# HW 07

## 14.12

### (a)

* (i)不是正确的表示，因为(i)表示：在给定M1和M2的情况下，F1和F2和N是独立的，也就是说对焦结果和星星个数是无关的，这显然是不正确的
* (ii)是正确的表示，正确描述了观测结果受到星星总数、对焦结果的影响，同时两个望远镜是独立的
* (iii)是正确的表示，但更加复杂。这个网络应该是M1，M2，N，F1，F2序列构成的，其中在只有M1时，其观测结果当然会在一定程度上和M2有关，因此存在这条边。

### (b)

* (ii)显然更好，因为(ii)中边数更少

### (c)

先写出计算公式
$$
\Pr(M_1|N) = \Pr(M_1|N,F_1)\Pr(F_1) + \Pr(M_1|N,\neg F_1)\Pr(\neg F_1)
$$
有e的概率偏大一颗，有e的概率偏小一颗，那么正常的概率是1-2e

条件概率表如下

|        | N = 1           | N = 2           | N = 3           |
| ------ | --------------- | --------------- | --------------- |
| M1 = 0 | e(1 - f) + f    | f               | f               |
| M1 = 1 | (1 - 2e)(1 - f) | e(1 - f)        | 0               |
| M1 = 2 | e(1 - f)        | (1 - 2e)(1 - f) | e(1 - f)        |
| M1 = 3 | 0               | e(1 - f)        | (1 - 2e)(1 - f) |
| M1 = 4 | 0               | 0               | e(1 - f)        |

### (d)

我们通过尝试方法来计算出结果

* $N=1$时，$\Pr(M_1 = 1 \wedge M_2 = 3) = (1 - 2e)(1 - f) \times 0 = 0$，故不可
* $N=2$时，$\Pr(M_1 = 1 \wedge M_2 = 3) = e(1 - f)  \times e(1 - f)  >0$，故可以
* $N=3$时，$\Pr(M_1 = 1 \wedge M_2 = 3) = (1 - 2e)(1 - f) \times 0 = 0$，故不可
* $N=4$时，$\Pr(M_1 = 1 \wedge M_2 = 3) = f \times e(1 - f) >0$，故可以
* $N=5$时，$\Pr(M_1 = 1 \wedge M_2 = 3) = f \times 0=0$，故不可
* $N\ge 6$时，$\Pr(M_1 = 1 \wedge M_2 = 3) = f \times f > 0$，故可以

因此，N可能取值为2或4或大于等于6的整数

### (e)

如果不知道先验概率，那么这个值是不可以计算的

因此，设$N=2,N=4,N\ge 6$的先验概率分别为$P_2,P_4,P_6$，那么可得后验概率如下：
$$
\Pr(N=2) = P_2 e^2(1-f)^2 \\
\Pr(N=4) = P_4 ef(1-f) \\
\Pr(N\ge 6) = P_6 f^2
$$
若所有先验概率都是同数量级或差别不大的，那么N=2是最有可能的，因为f是远远小于e的

## 14.13

在题目给定的先验范围内，不可能出现望远镜对焦不准的情况。因此$F_1=F_2=false$

这里再设$N=1,N=2,N=3$的先验概率分别为$P_1,P_2,P_3$
$$
\begin {align}
\Pr(N|M_1 =2, M_2=2) &= \alpha\sum_{f_1, f_2}\Pr(f_1,f_2,N,M_1=2,M_2=2) \\
&=  \alpha\sum_{f_1,f_2}\Pr(f_1) \Pr(f_2) \Pr(N)\Pr(M_1=2|f_1,N)\Pr(M_2=2|f_2,N) \\
&= \alpha(1-f)^2 \langle P_1, P_2, P_3 \rangle \langle e, (1-2e), e \rangle \langle e, (1-2e), e \rangle \\
&= \alpha(1-f)^2  \langle P_1e^2, P_2(1-2e)^2, P_3e^2 \rangle
\end{align}
$$
